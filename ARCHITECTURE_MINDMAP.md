# AUM Architecture Mind Map
**Generated:** January 25, 2026

---

## System Overview Mind Map

```
                                    ╔═══════════════════════════════════╗
                                    ║          AUM GAME ENGINE          ║
                                    ╚═══════════════════════════════════╝
                                                    │
                    ┌───────────────────────────────┼───────────────────────────────┐
                    │                               │                               │
                    ▼                               ▼                               ▼
        ┌───────────────────┐           ┌───────────────────┐           ┌───────────────────┐
        │     CLIENT        │           │      SERVER       │           │     BACKEND       │
        │   (AUM-The-Epic)  │◄─────────►│   (AUM-Headless)  │◄─────────►│    (PlayFab)      │
        └───────────────────┘   UDP     └───────────────────┘   HTTP    └───────────────────┘
                │                               │                               │
                │                               │                               │
    ┌───────────┴───────────┐       ┌───────────┴───────────┐       ┌───────────┴───────────┐
    │                       │       │                       │       │                       │
    ▼                       ▼       ▼                       ▼       ▼                       ▼
┌─────────┐           ┌─────────┐ ┌─────────┐       ┌─────────┐ ┌─────────┐         ┌─────────┐
│  Input  │           │ Render  │ │  Auth   │       │  Bots   │ │  Auth   │         │ Economy │
│ System  │           │ System  │ │ (Damage)│       │   AI    │ │ (Login) │         │(Currency│
└─────────┘           └─────────┘ └─────────┘       └─────────┘ └─────────┘         │Inventory│
                                                                                    └─────────┘
```

---

## Combat Authority Hierarchy

```
                              ┌─────────────────────────────────┐
                              │      ICombatAuthority           │
                              │        (Interface)              │
                              │                                 │
                              │  • GetStamina(playerId)         │
                              │  • GetFocus(playerId)           │
                              │  • GetWillpower(playerId)       │
                              │  • ConsumeStamina(id, amount)   │
                              │  • AddFocus(id, amount)         │
                              │  • ApplyDamage(target, src, ...) │
                              │  • IsAbilityAllowed(type)       │
                              └─────────────────────────────────┘
                                              │
                ┌─────────────────────────────┼─────────────────────────────┐
                │                             │                             │
                ▼                             ▼                             ▼
    ┌───────────────────┐       ┌───────────────────┐       ┌───────────────────┐
    │   LocalAuthority  │       │  HybridAuthority  │       │  ServerAuthority  │
    │                   │       │                   │       │                   │
    │ • Tutorial Mode   │       │ • First Match     │       │ • Competitive     │
    │ • Training Mode   │       │ • Solo 1v1        │       │ • Ranked          │
    │ • No network      │       │ • Local physics   │       │ • Full server     │
    │ • Instant         │       │ • Damage scaling  │       │   validation      │
    └───────────────────┘       │ • Bot multipliers │       │ • State sync      │
                                └───────────────────┘       └───────────────────┘
                                         │
                                         ▼
                              ┌─────────────────────────────────┐
                              │        FIRST_MATCH Rules        │
                              │                                 │
                              │  Player Damage: ×3.0 (300%)     │
                              │  Bot Damage:    ×0.2 (20%)      │
                              │  Purpose: Power fantasy hook    │
                              └─────────────────────────────────┘
```

---

## Player State Machine

```
                                    ┌───────────────┐
                                    │     IDLE      │◄────────────────────────────┐
                                    │   (Default)   │                             │
                                    └───────┬───────┘                             │
                                            │                                     │
            ┌───────────────┬───────────────┼───────────────┬───────────────┐     │
            │               │               │               │               │     │
            ▼               ▼               ▼               ▼               ▼     │
    ┌───────────────┐ ┌───────────┐ ┌───────────────┐ ┌───────────┐ ┌───────────┐│
    │    MELEE      │ │   DODGE   │ │  SPELL_AIMING │ │  CHANNEL  │ │  SPECIAL  ││
    │               │ │           │ │               │ │  (Prayer) │ │   AIMING  ││
    └───────┬───────┘ └─────┬─────┘ └───────┬───────┘ └─────┬─────┘ └─────┬─────┘│
            │               │               │               │             │       │
            │               │               ▼               │             │       │
            │               │     ┌───────────────────┐     │             │       │
            │               │     │ SPELL_ANTICIPATE  │     │             │       │
            │               │     └─────────┬─────────┘     │             │       │
            │               │               │               │             │       │
            │               │               ▼               │             ▼       │
            │               │     ┌───────────────────┐     │   ┌───────────────┐ │
            │               │     │    CAST_SPELL     │     │   │   SPECIAL     │ │
            │               │     │  (Fire/Water/etc) │     │   │  ANTICIPATE   │ │
            │               │     └─────────┬─────────┘     │   └───────┬───────┘ │
            │               │               │               │           │         │
            │               │               │               │           ▼         │
            │               │               │               │   ┌───────────────┐ │
            │               │               │               │   │   SPECIAL     │ │
            │               │               │               │   │  (Execution)  │ │
            │               │               │               │   └───────┬───────┘ │
            │               │               │               │           │         │
            └───────────────┴───────────────┴───────────────┴───────────┴─────────┘
                                            │
                                 Animation Complete
                                     Returns to
                                       IDLE
```

---

## Network Data Flow

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              CLIENT → SERVER                                     │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│   ┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐     │
│   │   INPUT     │    │   INPUT     │    │  NETWORK    │    │   SERVER    │     │
│   │   DEVICE    │───►│   BUFFER    │───►│  MANAGER    │───►│   (UDP)     │     │
│   │ (Touch/KB)  │    │             │    │             │    │             │     │
│   └─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘     │
│                                                                                 │
│   Packet: PlayerInput { tick, joystick, actionFlags, spellIndex, rotation }    │
│                                                                                 │
├─────────────────────────────────────────────────────────────────────────────────┤
│                              SERVER → CLIENT                                     │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│   ┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐     │
│   │   SERVER    │    │  NETWORK    │    │ SIMULATION  │    │   PLAYER    │     │
│   │  VALIDATES  │───►│  MANAGER    │───►│  MANAGER    │───►│   STATE     │     │
│   │             │    │             │    │ (Reconcile) │    │             │     │
│   └─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘     │
│                                                                                 │
│   Packet: SimulationResult {                                                    │
│       tick, positionX, positionZ, rotation,                                     │
│       state, moveSpeed, stamina  ◄── [Jan 25, 2026] NEW FIELD                  │
│   }                                                                             │
│                                                                                 │
└─────────────────────────────────────────────────────────────────────────────────┘
```

---

## Character Fighting Styles

```
                              ┌─────────────────────────┐
                              │   FIGHTING STYLES (5)   │
                              └───────────┬─────────────┘
                                          │
        ┌─────────────┬─────────────┬─────┴─────┬─────────────┬─────────────┐
        │             │             │           │             │             │
        ▼             ▼             ▼           ▼             ▼             │
┌─────────────┐┌─────────────┐┌─────────────┐┌─────────────┐┌─────────────┐ │
│   AMUKTHA   ││MANTRAMUKTHA ││MUKTHAMUKTHA ││ PANIMUKTHA  ││YANTRAMUKTHA │ │
│   (Sword)   ││   (Staff)   ││    (Axe)    ││  (Chakra)   ││    (Bow)    │ │
├─────────────┤├─────────────┤├─────────────┤├─────────────┤├─────────────┤ │
│ Dmg: 100    ││ Dmg: 50     ││ Dmg: 125    ││ Dmg: 65     ││ Dmg: 75/80  │ │
│ Balanced    ││ +2 Focus/hit││ Highest Dmg ││ High Mobility│ Range Control│ │
│ Good Mobility│ 4 Elements  ││ Shield Break││ Maim Special││ Safe Damage │ │
└─────────────┘└─────────────┘└─────────────┘└─────────────┘└─────────────┘ │
                                          │                                 │
                              ┌───────────┴───────────┐                     │
                              │   TRINITY GODS (3)    │                     │
                              └───────────┬───────────┘                     │
                                          │                                 │
                    ┌─────────────────────┼─────────────────────┐           │
                    │                     │                     │           │
                    ▼                     ▼                     ▼           │
            ┌─────────────┐       ┌─────────────┐       ┌─────────────┐     │
            │   BRAHMA    │       │   VISHNU    │       │    SHIVA    │     │
            │             │       │             │       │             │     │
            │ +3 Focus    │       │ +30% Speed  │       │ +20% Damage │     │
            │ Streak Start│       │ 45 Stamina  │       │ Third Eye   │     │
            │             │       │ Dodge Cost  │       │ Immunity    │     │
            └─────────────┘       └─────────────┘       └─────────────┘     │
```

---

## Resource System

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              PLAYER RESOURCES                                    │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│   ┌─────────────────────────────────────────────────────────────────────────┐   │
│   │  WILLPOWER (Health)                                    Max: 15,000      │   │
│   │  ████████████████████████████████████████████████████  ───────────────  │   │
│   │  Win condition: Reduce opponent to 0                                    │   │
│   └─────────────────────────────────────────────────────────────────────────┘   │
│                                                                                 │
│   ┌─────────────────────────────────────────────────────────────────────────┐   │
│   │  STAMINA (Mobility)                                    Max: 100         │   │
│   │  ██████████████████████████████████████                ───────────────  │   │
│   │  Used for: Dodge (70 cost, Vishnu: 45)                                  │   │
│   │  Regenerates: Over time                                                 │   │
│   │  [Jan 25, 2026] NOW SYNCED via SimulationResult packet                 │   │
│   └─────────────────────────────────────────────────────────────────────────┘   │
│                                                                                 │
│   ┌─────────────────────────────────────────────────────────────────────────┐   │
│   │  FOCUS (Abilities)                    Max: 100 (4 bars × 25)            │   │
│   │  ████████░░░░░░░░░░░░░░░░░░░░░░░░░░░░  ───────────────────────────────  │   │
│   │  [|█████|░░░░░|░░░░░|░░░░░]  (25|0|0|0 = 1 bar)                        │   │
│   │                                                                         │   │
│   │  Gained from: Hit streaks (1→2→3...→10 per consecutive hit)            │   │
│   │  Costs:                                                                 │   │
│   │    • Elemental Spell: 25 (1 bar)                                       │   │
│   │    • Special Ability: 25 (1 bar)                                       │   │
│   │    • Third Eye:       75 (3 bars)                                      │   │
│   │    • Astra:          100 (4 bars)                                      │   │
│   └─────────────────────────────────────────────────────────────────────────┘   │
│                                                                                 │
└─────────────────────────────────────────────────────────────────────────────────┘
```

---

## Match Types & Authority Selection

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              MATCH TYPE AUTHORITY MAP                           │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│   User Action              Match Type          Authority          Network       │
│   ───────────              ──────────          ─────────          ───────       │
│                                                                                 │
│   ┌─────────────┐                                                               │
│   │  Tutorial   │─────────► Tutorial ────────► LocalAuthority ────► NONE       │
│   │   Button    │                              (Offline)                        │
│   └─────────────┘                                                               │
│                                                                                 │
│   ┌─────────────┐                                                               │
│   │  Training   │─────────► Training ────────► LocalAuthority ────► NONE       │
│   │   Button    │                              (Offline)                        │
│   └─────────────┘                                                               │
│                                                                                 │
│   ┌─────────────┐                                                               │
│   │  Solo 1v1   │─────────► FIRST_MATCH ─────► HybridAuthority ───► SERVER     │
│   │   Button    │           (if first)         (3x/0.2x damage)                 │
│   │             │─────────► Solo_1v1 ─────────► HybridAuthority ───► SERVER    │
│   │             │           (if not first)     (1x/1x damage)                   │
│   └─────────────┘                                                               │
│                                                                                 │
│   ┌─────────────┐                                                               │
│   │  Ranked     │─────────► Multiplayer ─────► ServerAuthority ───► FULL       │
│   │   Button    │                              (All server validated)           │
│   └─────────────┘                                                               │
│                                                                                 │
└─────────────────────────────────────────────────────────────────────────────────┘
```

---

## Elemental Damage Cycle

```
                                    ╔═══════════════╗
                                    ║     ETHER     ║
                                    ║   (Akasha)    ║
                                    ║   1500 dmg    ║
                                    ║   + Mute      ║
                                    ╚═══════╤═══════╝
                                            │
                           Creates ─────────┴───────── Creates
                              │                           │
                              ▼                           │
                    ╔═══════════════╗                     │
                    ║      AIR      ║                     │
                    ║    (Vayu)     ║                     │
                    ║  150/0.5s     ║                     │
                    ║   Zone dmg    ║                     │
                    ╚═══════╤═══════╝                     │
                            │                             │
                            │                             │
                            ▼                             │
                    ╔═══════════════╗                     │
                    ║     FIRE      ║◄────────────────────┘
                    ║    (Agni)     ║
                    ║   650 burst   ║
                    ║  +300/s DoT   ║
                    ╚═══════╤═══════╝
                            │
                            ▼
                    ╔═══════════════╗
                    ║     WATER     ║
                    ║   (Varuna)    ║
                    ║   1000 dmg    ║
                    ║   + Push      ║
                    ╚═══════╤═══════╝
                            │
                            ▼
                    ╔═══════════════╗
                    ║     EARTH     ║──────────► (back to ETHER)
                    ║   (Prithvi)   ║
                    ║   1200 dmg    ║
                    ║   + 0.5s Stun ║
                    ╚═══════════════╝


                    INTERACTION MATRIX
                    ══════════════════

                    Child → Parent:   NULLIFY (-100% damage)
                    Parent → Child:   VULNERABLE (+25% damage)
                    Other:            MITIGATE (-25% damage)
```
